/* ===============================
   Calendar page (responsive)
   =============================== */

/* Base */
html, body { height:100%; }
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #f4f4f4;
  display: flex;
  height: 100vh;
  overflow-x: hidden;               /* <- no sideways drag */
}

/* Sidebar (desktop default) */
.sidebar {
  background-color: #43699c;
  color: white;
  width: 220px;
  padding-top: 20px;
  display: flex;
  flex-direction: column;
  z-index: 1000;
  position: relative;               /* becomes fixed on mobile */
  transition: left .28s ease;       /* drawer animation */
}
.sidebar img { width:80px; margin:0 auto 15px; display:block; }
.sidebar a {
  padding: 12px 20px;
  text-decoration: none;
  color: white;
  display: flex; align-items: center; gap: 10px;
  transition: background 0.3s;
}
.sidebar a:hover, .sidebar a.active { background-color: #34517c; }

/* Main area */
.main { flex: 1; padding: 20px; overflow-y: auto; }

/* Topbar */
.topbar {
  display:flex; justify-content:space-between; align-items:center;
  background:#fff; padding:10px 20px; box-shadow:0 2px 5px rgba(0,0,0,.1);
  margin-bottom:20px; position:sticky; top:0; z-index:900;
}
.topbar h1 { margin:0; font-size:20px; color:#43699c; }

/* Buttons */
.logout-btn {
  background-color:#d9534f; color:#fff; border:none;
  padding:8px 15px; border-radius:5px; font-size:14px;
  cursor:pointer; display:flex; align-items:center; gap:6px;
}
.logout-btn:hover { background-color:#c9302c; }

/* Generic card */
.card, .calendar-widget, .widget {
  background:#fff; padding:20px; border-radius:12px;
  box-shadow:0 2px 8px rgba(0,0,0,.08); margin-bottom:20px;
}

/* ======= FullCalendar (or similar) ======= */
.calendar-widget, .calendar, .fc { max-width:100%; overflow:hidden; }
.fc { font-size:14px; }
.fc .fc-toolbar { flex-wrap: wrap; gap: 8px; }                 /* wrap controls */
.fc .fc-toolbar-chunk { display:flex; flex-wrap:wrap; gap:8px; }
.fc .fc-toolbar-title { font-size:1.1rem; }
.fc .fc-button { padding:.45rem .6rem; border-radius:8px; }
.fc .fc-scrollgrid,
.fc .fc-view-harness,
.fc .fc-daygrid,
.fc .fc-daygrid-body,
.fc .fc-daygrid-body table { width:100% !important; }
.fc .fc-daygrid-body table { table-layout: fixed; }            /* cells don't grow wider than screen */

/* If you're using your own control row instead of FC toolbar */
.calendar-controls,
.filters-row { display:flex; flex-wrap:wrap; gap:8px; }

/* ======= Mobile drawer + hamburger ======= */
.menu-btn{
  display:inline-flex; justify-content:center; align-items:center;
  width:40px; height:40px; margin-right:12px;                  /* spacing from title */
  background:#315ea8; color:#fff; border:none; border-radius:8px;
  font-size:18px; cursor:pointer;
}
.menu-btn span{ display:none; }                                /* icon-only */
.menu-btn i{ font-size:18px; line-height:1; }

/* Backdrop is defined in global CSS; this page just uses it */

/* ======= Responsive breakpoints ======= */

/* Tablet */
@media (max-width: 1100px) {
  /* if you have any grids on this page, collapse them here */
}

/* Mobile */
@media (max-width: 768px) {
  /* Sidebar becomes off-canvas drawer */
  .sidebar{
    position: fixed;
    top: 0;
    left: -220px;              /* hidden */
    height: 100dvh;
    width: 220px;
    box-shadow: 0 12px 32px rgba(0,0,0,.22);
  }
  .sidebar.open{ left: 0; }
  .sidebar a{ padding:14px 18px; }

  .main{ padding:16px; }
  .topbar h1{ font-size:18px; }

  /* Calendar toolbar stays compact */
  .fc .fc-toolbar-title{ font-size:1rem; }
  .fc .fc-button{ padding:.4rem .55rem; }
}

/* Extra small */
@media (max-width: 480px) {
  .topbar h1{ font-size:16px; }
  .logout-btn{ padding:6px 10px; font-size:12px; border-radius:10px; }
}

.calendar-widget iframe{ width:100%; height:clamp(360px,60vh,520px); border:0; border-radius:12px; }



/* === FIX MOBILE SIDEWAYS DRAG ON CALENDAR PAGE === */

/* Never allow anything to exceed the viewport width */
html, body { width: 100%; overflow-x: clip; } /* 'clip' > 'hidden' for iOS */
body { overscroll-behavior-x: none; }
.main, .topbar, .calendar-widget, .calendar, .fc { max-width: 100vw; }

/* FullCalendar: force internal tables/containers to stay inside */
.fc,
.fc .fc-scrollgrid,
.fc .fc-view-harness,
.fc .fc-daygrid,
.fc .fc-daygrid-body,
.fc .fc-daygrid-body table { width: 100% !important; }
.fc .fc-daygrid-body table { table-layout: fixed; }

/* Compact/wrapping toolbar to avoid overflow from long titles/controls */
.fc .fc-toolbar { flex-wrap: wrap; gap: 8px; }
.fc .fc-toolbar-chunk { display: flex; flex-wrap: wrap; gap: 8px; }

/* --- Drawer that doesn't affect layout width --- */
@media (max-width: 768px){
  .sidebar{
    position: fixed;
    top: 0; bottom: 0; left: 0;
    width: 220px; height: 100dvh;
    /* use transform instead of negative left so it never widens the page */
    transform: translateX(-100%);
    transition: transform .28s ease;
    box-shadow: 0 12px 32px rgba(0,0,0,.22);
  }
  .sidebar.open{ transform: translateX(0); }

  /* comfy content + title sizing */
  .main{ padding: 16px; }
  .topbar h1{ font-size: 18px; }

  /* Hamburger: icon-only and spaced from title */
  .menu-btn{
    display:inline-flex; justify-content:center; align-items:center;
    width:40px; height:40px; margin-right:12px;
    background:#315ea8; color:#fff; border:none; border-radius:8px; font-size:18px; cursor:pointer;
  }
  .menu-btn span{ display:none; }
}

/* Extra small tweaks */
@media (max-width: 480px){
  .topbar h1{ font-size: 16px; }
  .logout-btn{ padding:6px 10px; font-size:12px; border-radius:10px; }
}
